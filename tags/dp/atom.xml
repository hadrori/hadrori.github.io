<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: dp | Algoogle]]></title>
  <link href="http://algoogle.hadrori.jp/tags/dp/atom.xml" rel="self"/>
  <link href="http://algoogle.hadrori.jp/"/>
  <updated>2015-07-30T15:13:28+09:00</updated>
  <id>http://algoogle.hadrori.jp/</id>
  <author>
    <name><![CDATA[hadrori]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[LiveArchive 4336 Palindromic paths]]></title>
    <link href="http://algoogle.hadrori.jp/livearchive/4336/"/>
    <updated>2015-05-27T20:52:45+09:00</updated>
    <id>http://algoogle.hadrori.jp/livearchive/4336</id>
    <content type="html"><![CDATA[<p><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=307&amp;page=show_problem&amp;problem=2337">Palindromic paths</a></p>

<h4 id="section">問題概要</h4>

<hr />

<p>N(2&lt;=N&lt;=50)頂点のグラフがある．<br />
頂点番号を0からN-1まで割り当てるとき，頂点の組について番号の小さい方の頂点から大きい方の頂点へ1文字のラベル付きの辺が張られている．<br />
0からN-1までのパスを考える時，ラベルを順に並べて回文になるもののうち最長のものを求めよ．<br />
複数ある場合は辞書順最小のものを求めよ．</p>

<h4 id="section-1">解法</h4>

<hr />

<p>DPする．<br />
パスの両端の頂点を近づけていく感じ．<br />
dp[u][v] := 頂点0からu，頂点N-1からvまで進んだ時の最長の文字列<br />
更新はuから進む辺とvから戻る辺をみて，同じラベルの辺があったらそれを加えて縮める．<br />
答えの更新は，辺(u,v)のラベルと今の文字列の反転を加えたものでする．<br />
u,vが同じならそのまま反転したものを加える．</p>

<h4 id="section-2">コード</h4>

<hr />

<p>{% include_code livearchive/4336.cpp %}</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[LiveArchive 4333 Paper Presentation]]></title>
    <link href="http://algoogle.hadrori.jp/livearchive/4333/"/>
    <updated>2015-05-27T20:25:49+09:00</updated>
    <id>http://algoogle.hadrori.jp/livearchive/4333</id>
    <content type="html"><![CDATA[<p><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=307&amp;page=show_problem&amp;problem=2334">Paper Presentation</a></p>

<h4 id="section">問題概要</h4>

<hr />

<p>2M(M&lt;=8)人の科学者が論文を発表する．<br />
発表は2つのセクションに分かれていて，それぞれでM人ずつ発表する．<br />
論文は依存する他の論文のあとに同じセクションで発表しなければならない．<br />
依存関係が与えられる時，考えられる発表順の個数を求めよ．</p>

<h4 id="section-1">解法</h4>

<hr />

<p>bitDPします．</p>

<p>{% math %}</p>

<p>dp[s] := 発表済みの論文の集合がsのときの場合の数</p>

<p>{% endmath %}</p>

<p>与えられる依存関係から各論文について，その論文発表するまでに発表されていなければならない論文の集合と<br />
後に発表されなければならない論文の集合を持っておく．<br />
更新は<br />
まだ発表されていない論文iと発表済みの論文sについて<br />
sにiの前に発表されなければならない論文がすべて含まれているなら</p>

<p>{% math %}</p>

<p>dp[s \cup {i}] += dp[s]</p>

<p>{% endmath %}</p>

<p>となる．<br />
またセクションについての条件を満たすため，M人の発表が終わったらそのM人の後に発表しなければならない論文は存在しないことを確かめる．</p>

<h4 id="section-2">コード</h4>

<hr />

<p>コードでは依存関係が逆になっているが発表順を逆にやっているだけなので問題無い．</p>

<p>{% include_code livearchive/4333.cpp %}</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AOJ 2294 Entangled with Lottery]]></title>
    <link href="http://algoogle.hadrori.jp/aoj/2294/"/>
    <updated>2015-05-12T22:53:37+09:00</updated>
    <id>http://algoogle.hadrori.jp/aoj/2294</id>
    <content type="html"><![CDATA[<p><a href="http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2294">Entangled with Lottery</a></p>

<h4 id="section">問題概要</h4>

<hr />

<p>高さHのN本の縦棒からなるあみだくじがある．1以上H以下の整数の高さにそれぞれ1本まで隣り合った縦棒をつなぐ横棒を置ける．<br />
現在M本の横棒が置かれている．ここにさらに上記の条件を満たすようにランダムにK本の横棒を置く．<br />
左からP本目の下端が当たりの時，最も当たる確率が高くなるようにスタートを選んだ時の当たる確率を求めよ．</p>

<h4 id="section-1">解法</h4>

<hr />

<p>ある開始位置を決めた時，下端の各位置にたどり着く確率は以下のDPでもとまる．<br />
dp[i][k][j] := 高さiでこれまでにk本設置して，左からj番目にいるときの確率<br />
更新は，すでにその高さに横棒があるなら対応する位置の確率をswap．<br />
そうでないなら，それ以降でその高さが選ばれる確率は (K-k)/(残りの設置されてない高さの数)．<br />
その高さで各位置に設置される確率はさらに 1/(N-1)<br />
よってこの2通り*2通りの遷移をすればよい．<br />
このDPの計算量はO(NHK)</p>

<p>どの開始位置がPにたどり着く最大の確率を取るかすべて試すのはちょっと危うそう(メモ化再帰とか定数倍高速化を頑張ればいける？)．<br />
あみだくじの性質として，上から下へ辿る時の経路と下から上への経路は同じ．<br />
つまりあみだくじをひっくり返して下端のPから上端の各位置への到達確率のうち最大のものを持って来ればよい．</p>

<h4 id="section-2">コード</h4>

<hr />

<p>{% include_code AOJ/2294.cpp %}</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AOJ 2598 Website Tour]]></title>
    <link href="http://algoogle.hadrori.jp/aoj/2598/"/>
    <updated>2015-05-07T22:38:14+09:00</updated>
    <id>http://algoogle.hadrori.jp/aoj/2598</id>
    <content type="html"><![CDATA[<p><a href="http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2598">Website Tour</a></p>

<h4 id="section">問題概要</h4>

<hr />

<p>有向グラフ上のノードiでコスト{% m %}t_i{% em %}でポイント{% m %}p_i{% em %}が手に入る．<br />
ノードiでポイントが得られるのは{% m %}k_i{% em %}回まで．ただし同じノードでポイントを得るには1回以上の遷移が必要．<br />
コストの総和がT以内で得られるポイントの総和の最大を求めよ．</p>

<h4 id="section-1">解法</h4>

<hr />

<p>入力のグラフGを強連結成分分解する．各強連結成分を1つのノードとしたDAG(これをHとする)上でDPする．</p>

<p>dp[i][j] := 強連結成分iでコストj以下の時の最大の総ポイント</p>

<p>Hのノードはトポロジカルソートし，順にやればよい．<br />
Hの各ノードでの計算は個数制限ナップサックをすればよい．Hでのノードからノードへの遷移は各コストでのdp表のmaxをとる．<br />
ただしノードがGのノードを1つしか含まず，そのノードも自己ループを持たないときは1回しかそこを通れないので01ナップサック(個数制限を1にしたナップサック)をやる．</p>

<h4 id="section-2">コード</h4>

<hr />

<p>{% include_code AOJ/2598.cpp %}</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AOJ 2630 Dictionary]]></title>
    <link href="http://algoogle.hadrori.jp/aoj/2630/"/>
    <updated>2015-04-29T14:21:30+09:00</updated>
    <id>http://algoogle.hadrori.jp/aoj/2630</id>
    <content type="html"><![CDATA[<p><a href="http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2630">Dictionary</a></p>

<h4 id="section">問題概要</h4>

<hr />

<p>n(&lt;=50)個の文字列が辞書順に並んでいる．<br />
しかし文字列の一部分が読めない．<br />
元の文字列として考えられるのは何通りか．</p>

<h4 id="section-1">解法</h4>

<hr />

<p>メモ化再帰します．<br />
dp[l][r][p][c] := 文字列[l,r)のp文字目がc以上の場合の数<br />
とすればあとは以下のように計算する．</p>

<p>区間[l,r)を位置i([l,r])で2つに分割する．<br />
区間[l,i)の位置pがcの場合の数と後半の区間[i,r)の位置pがc+1以上の場合の数の積をdp[l][r][p][c]に加える．<br />
ただし，もとの文字列からありえない場合は計算しない</p>

<h4 id="section-2">コード</h4>

<hr />

<p>{% include_code AOJ/2630.cpp %}</p>
]]></content>
  </entry>
  
</feed>
